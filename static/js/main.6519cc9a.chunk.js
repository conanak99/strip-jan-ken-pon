(this["webpackJsonpstrip-janken"]=this["webpackJsonpstrip-janken"]||[]).push([[0],{14:function(e,n,t){e.exports=t(22)},19:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var a,r,c,i,o=t(0),s=t.n(o),l=t(9),u=t.n(l),E=(t(19),t(13)),m=t(3),h=t(4);!function(e){e[e.CHOICE=0]="CHOICE",e[e.RESULT=1]="RESULT",e[e.STRIP_VIDEO=2]="STRIP_VIDEO",e[e.GAME_OVER_LOSE=3]="GAME_OVER_LOSE",e[e.GAME_OVER_WIN=4]="GAME_OVER_WIN"}(a||(a={})),function(e){e[e.ROCK=0]="ROCK",e[e.PAPER=1]="PAPER",e[e.SCISSOR=2]="SCISSOR"}(r||(r={})),function(e){e[e.WIN=0]="WIN",e[e.LOSE=1]="LOSE",e[e.DRAW=2]="DRAW"}(c||(c={})),function(e){e[e.CHOICE=0]="CHOICE",e[e.CALCULATE=1]="CALCULATE",e[e.NEXT_ROUND=2]="NEXT_ROUND",e[e.RESTART=3]="RESTART"}(i||(i={}));var p={heart:4,clothes:4,screen:a.CHOICE,videoNumber:4},v={state:p,dispatch:function(){}},f=s.a.createContext(v),d=t(1),O=t(2);function b(){var e=Object(d.a)(["\n    width: ","px;\n    height: ","px;\n    transform: rotate(","deg);\n"]);return b=function(){return e},e}var I=O.a.img(b(),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.rotate})),R=function(e){var n=e.choice,t=e.size,a=void 0===t?120:t;switch(n){case r.ROCK:return s.a.createElement(I,{rotate:-15,size:a,alt:"rock",src:"/images/icons/rock.png"});case r.SCISSOR:return s.a.createElement(I,{rotate:-80,size:a,alt:"paper",src:"/images/icons/scissor.png"});case r.PAPER:return s.a.createElement(I,{rotate:15,size:a,alt:"scissor",src:"/images/icons/paper.png"})}};function C(){var e=Object(d.a)(["\n    opacity: 0.8;\n    cursor: pointer;\n    background-color: transparent;\n    border: none;\n    transition: all 0.5s;\n\n    &:hover {\n        opacity: 1;\n        transform: translateY(-10px) scale(1.2);\n    }\n\n    "," {\n    }\n"]);return C=function(){return e},e}function g(){var e=Object(d.a)(["\n    position: absolute;\n    width: 100vw;\n    bottom: 10vh;\n    text-align: center;\n"]);return g=function(){return e},e}function x(){var e=Object(d.a)(["\n    position: relative;\n    height: 100vh;\n"]);return x=function(){return e},e}var S=O.a.div(x()),A=O.a.div(g()),w=O.a.button(C(),"@media (max-width: 768px)"),D=function(){var e=s.a.useContext(f).dispatch,n=s.a.useCallback((function(n){e({type:i.CHOICE,choice:n})}),[e]);return s.a.createElement(S,null,s.a.createElement(A,null,[r.ROCK,r.SCISSOR,r.PAPER].map((function(e){return s.a.createElement(w,{key:e,onClick:function(){return n(e)}},s.a.createElement(R,{choice:e}))}))))};function M(){var e=Object(d.a)(["\n    margin-bottom: 32px;\n"]);return M=function(){return e},e}function N(){var e=Object(d.a)(["\n    margin: 20px;\n    font-size: 44px;\n\n    "," {\n        margin: 10px;\n    }\n"]);return N=function(){return e},e}function y(){var e=Object(d.a)(["\n    transform: rotate(180deg);\n"]);return y=function(){return e},e}function j(){var e=Object(d.a)(["\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n"]);return j=function(){return e},e}var T=O.a.div(j()),_=O.a.div(y()),L=O.a.div(N(),"@media (max-width: 768px)"),k=O.a.div(M()),W=function(){var e=s.a.useContext(f),n=e.state,t=e.dispatch,a=n.botChoice,r=n.playerChoice,o=n.matchResult,l=s.a.useCallback((function(){return t({type:i.CALCULATE})}),[t]),u=s.a.createElement("span",null);switch(o){case c.WIN:u=s.a.createElement("span",{className:"nes-text is-success"},"Th\u1eafng r\u1ed3i ahihi!!");break;case c.DRAW:u=s.a.createElement("span",{className:"nes-text is-primary"}," Ho\xe0");break;case c.LOSE:u=s.a.createElement("span",{className:"nes-text is-error"}," Thua r\xf9i l\xeau l\xeau!!")}return s.a.createElement(T,null,s.a.createElement(_,null,s.a.createElement(R,{size:140,choice:a})),s.a.createElement(L,null,u),s.a.createElement(k,null,s.a.createElement(R,{size:140,choice:r})),s.a.createElement("button",{onClick:l,type:"button",className:"nes-btn is-primary"},"Ti\u1ebfp t\u1ee5c"))};function P(){var e=Object(d.a)(["\n    position: absolute;\n    width: 100vw;\n    bottom: 10vh;\n    text-align: center;\n"]);return P=function(){return e},e}var V=O.a.div(P()),U=function(){var e=s.a.useContext(f).dispatch,n=s.a.useCallback((function(){e({type:i.NEXT_ROUND})}),[e]);return s.a.createElement(V,null,s.a.createElement("button",{type:"button",className:"nes-btn is-primary",onClick:n},"Skip, h\xf4ng th\xe8m coi"))};function z(){var e=Object(d.a)(["\n    display: flex;\n    height: 100vh;\n    align-items: center;\n    justify-content: center;\n"]);return z=function(){return e},e}var H=O.a.div(z()),G=["MIDE-628","MIDE-619","MIDE-589","MIDE-582","MIDE-533","MIDE-542","MIDE-448","MIDE-440","MIDE-430","AVOP-210","MIDE-777","MIDE-765","MIDE-754","MIDE-742","MIDE-730","MIDE-719","MIDE-709","OAE-140","MIDE-696","MIDE-686","MIDE-678","MIDE-670","MIDE-663","TEK-097","MIDE-645","MIDE-636"];var K=function(e){var n=e.screen,t=s.a.useContext(f).dispatch;return s.a.createElement(H,null,s.a.createElement("section",{className:"message-list"},s.a.createElement("section",{className:"message -left"},s.a.createElement("i",{className:"nes-octocat animate"}),s.a.createElement("div",{className:"nes-balloon from-left"},n===a.GAME_OVER_WIN&&s.a.createElement("p",null,"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 chi\u1ebfn th\u1eafng ahihi!",s.a.createElement("br",null)," M\xe3 s\u1ed1 may m\u1eafn c\u1ee7a b\u1ea1n l\xe0 ",s.a.createElement("i",null,G[Math.floor(Math.random()*G.length)])),n===a.GAME_OVER_LOSE&&s.a.createElement("p",null,"Thua r\u1ed3i, nh\u1ee5c qu\xe1, ch\u01a1i l\u1ea1i \u0111i hihi!"),s.a.createElement("button",{type:"button",className:"nes-btn is-primary",onClick:function(){t({type:i.RESTART})}},"Ch\u01a1i l\u1ea1i")))))};function X(){var e=Object(d.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    height: calc(var(--vh, 1vh) * 100);\n    opacity: 0.8;\n    object-fit: cover;\n    z-index: -1;\n"]);return X=function(){return e},e}function B(){var e=Object(d.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    height: calc(var(--vh, 1vh) * 100);\n    opacity: 0.8;\n    object-fit: cover;\n    z-index: -1;\n"]);return B=function(){return e},e}var J=O.a.video(B()),q=O.a.img(X()),Y=function(e){var n=e.play,t=e.videoNumber,a=e.onVideoEnded,r=s.a.useRef(null);return s.a.useEffect((function(){var e=r.current;e&&(console.log({video:e}),e.currentTime=0,e.muted=!1)}),[n,r]),n?s.a.createElement(J,{ref:r,onEnded:a,playsInline:!0,autoPlay:!0,muted:!0},s.a.createElement("source",{src:"/videos/".concat(t,".mp4"),type:"video/mp4"})):s.a.createElement(q,{src:"/images/preview_".concat(t,".jpg")})};function $(){var e=Object(d.a)(["\n    z-index: 1;\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    text-align: right;\n\n    "," {\n        width: 40vw;\n    }\n\n    .clothes {\n        width: 60px;\n        height: 60px;\n    }\n"]);return $=function(){return e},e}function F(){var e=Object(d.a)(["\n    z-index: 1;\n    position: absolute;\n    top: 5px;\n    left: 5px;\n\n    "," {\n        width: 40vw;\n    }\n\n    .heart {\n        width: 55px;\n        height: 55px;\n    }\n"]);return F=function(){return e},e}function Q(){var e=Object(d.a)(["\n    position: relative;\n    height: 100vh;\n"]);return Q=function(){return e},e}var Z,ee=O.a.div(Q()),ne=O.a.div(F(),"@media (max-width: 768px)"),te=O.a.div($(),"@media (max-width: 768px)"),ae=(Z={},Object(h.a)(Z,c.WIN,new Audio("/sounds/win.mp3")),Object(h.a)(Z,c.DRAW,new Audio("/sounds/draw.mp3")),Object(h.a)(Z,c.LOSE,new Audio("/sounds/lose.mp3")),Z);function re(e,n){switch(n.type){case i.RESTART:return p;case i.NEXT_ROUND:return 0===e.clothes?Object(m.a)({},e,{screen:a.GAME_OVER_WIN}):Object(m.a)({},e,{videoNumber:e.clothes,screen:a.CHOICE});case i.CHOICE:var t=n.choice,o=function(){var e=[r.PAPER,r.ROCK,r.SCISSOR];return e[Math.floor(Math.random()*e.length)]}(),s=function(e,n){return e===n?c.DRAW:e-n===1||e-n===-2?c.WIN:c.LOSE}(t,o),l=ae[s];return l&&l.play(),Object(m.a)({},e,{playerChoice:t,botChoice:o,matchResult:s,screen:a.RESULT});case i.CALCULATE:if(e.screen!==a.RESULT)return e;switch(e.matchResult){case c.WIN:var u=e.clothes-1;return Object(m.a)({},e,{clothes:u,screen:a.STRIP_VIDEO});case c.LOSE:var E=e.heart-1;return 0===E?Object(m.a)({},e,{heart:E,screen:a.GAME_OVER_LOSE}):Object(m.a)({},e,{heart:E,screen:a.CHOICE});case c.DRAW:return Object(m.a)({},e,{screen:a.CHOICE})}}return e}var ce=function(){var e=s.a.useReducer(re,p),n=Object(E.a)(e,2),t=n[0],r=n[1],c={state:t,dispatch:r},o=s.a.createElement("img",{className:"clothes",alt:"clothes",src:"/images/icons/clothes.png"}),l=new Array(t.clothes);l.fill(o);var u=s.a.createElement("img",{alt:"heart",className:"heart",src:"/images/icons/heart.png"}),m=s.a.createElement("img",{alt:"empty-heart",className:"heart",src:"/images/icons/heart-empty.png"}),h=new Array(p.heart);return h.fill(u,0,t.heart),h.fill(m,t.heart),s.a.createElement(f.Provider,{value:c},s.a.createElement(ee,null,s.a.createElement(te,null,l),s.a.createElement(ne,null,h),s.a.createElement(Y,{play:t.screen===a.STRIP_VIDEO,videoNumber:t.videoNumber,onVideoEnded:function(){return r({type:i.NEXT_ROUND})}}),t.screen===a.CHOICE&&s.a.createElement(D,null),t.screen===a.RESULT&&s.a.createElement(W,null),t.screen===a.STRIP_VIDEO&&s.a.createElement(U,null),t.screen===a.GAME_OVER_WIN&&s.a.createElement(K,{screen:t.screen}),t.screen===a.GAME_OVER_LOSE&&s.a.createElement(K,{screen:t.screen})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.6519cc9a.chunk.js.map